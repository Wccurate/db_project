"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[589],{8589:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var r=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticStyle:{"margin-bottom":"2px","margin-top":"2px"}},[e("el-input",{staticStyle:{width:"200px","margin-left":"2px"},attrs:{placeholder:"Enter username"},model:{value:t.params.username,callback:function(e){t.$set(t.params,"username",e)},expression:"params.username"}}),e("el-input",{staticStyle:{width:"200px","margin-left":"2px"},attrs:{placeholder:"Enter book's name"},model:{value:t.params.name,callback:function(e){t.$set(t.params,"name",e)},expression:"params.name"}}),e("el-input",{staticStyle:{width:"200px","margin-left":"2px"},attrs:{placeholder:"Enter book's isbn"},model:{value:t.params.isbn,callback:function(e){t.$set(t.params,"isbn",e)},expression:"params.isbn"}}),e("el-button",{staticStyle:{"margin-left":"2px",height:"40px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.load}},[t._v("Search")]),e("el-button",{staticStyle:{"margin-left":"2px",height:"40px"},attrs:{type:"warning",icon:"el-icon-refresh-right"},on:{click:t.reset}},[t._v("Reset")])],1),e("div",[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[e("el-table-column",{attrs:{prop:"uid",label:"User ID","show-overflow-tooltip":"",width:"150"}}),e("el-table-column",{attrs:{prop:"username",label:"Username","show-overflow-tooltip":"",width:"120"}}),e("el-table-column",{attrs:{prop:"phone",label:"Phone",width:"100"}}),e("el-table-column",{attrs:{prop:"name",label:"Book Name","show-overflow-tooltip":"",width:"450"}}),e("el-table-column",{attrs:{prop:"isbn",label:"ISBN",width:"100"}}),e("el-table-column",{attrs:{prop:"bstatus",label:"Status",width:"100"}}),e("el-table-column",{attrs:{prop:"cdate",label:"Borrow Date",width:"120",formatter:t.createDateFormat}}),e("el-table-column",{attrs:{prop:"duration",label:"Days",width:"100"}}),e("el-table-column",{attrs:{prop:"rdate",label:"Due Date",width:"100",formatter:t.dueDateFormat}}),e("el-table-column",{attrs:{prop:"adate",label:"Return Date",width:"180",formatter:t.returnDateFormat}}),e("el-table-column",{attrs:{fixed:"right",label:"Operations"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-popconfirm",{attrs:{"confirm-button-text":"Yes","cancel-button-text":"No",title:"Are you sure you want to delete this row of dataï¼Ÿ"},on:{confirm:function(e){return t.del(a.row)}}},[e("el-button",{staticStyle:{"margin-left":"2px"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[t._v("Delete")])],1)]}}])})],1),e("el-pagination",{staticStyle:{"margin-top":"5px"},attrs:{background:"","current-page":t.params.pageNum,"page-size":t.params.pageSize,layout:"prev, pager, next",total:t.total},on:{"current-change":t.changePageNum}})],1)])},l=[],o=a(4471),n=a(6797),s=a.n(n),i={name:"List",data(){return{tableData:[],total:0,params:{pageNum:1,pageSize:10,username:"",isbn:"",name:""}}},created(){this.load()},methods:{load(){o.Z.get("retern/page",{params:this.params}).then((t=>{"200"===t.code&&(this.tableData=t.data.list,this.total=t.data.total)}))},del(t){const e=t.email,a=t.isbn;o.Z["delete"]("retern/delete/"+e+"&"+a).then((t=>{"200"===t.code?(this.$notify.success("Deleted"),this.load()):this.$notify.error(t.msg)}))},reset(){this.params={pageNum:1,pageSize:10,email:"",isbn:""},this.value="",this.load()},changePageNum(t){this.params.pageNum=t,this.load()},createDateFormat(t){return s()(t.cdate).format("YYYY-MM-DD")},dueDateFormat(t){return s()(t.rdate).format("YYYY-MM-DD")},returnDateFormat(t){return s()(t.adate).format("YYYY-MM-DD")}}},p=i,m=a(1001),u=(0,m.Z)(p,r,l,!1,null,"724264ad",null),c=u.exports}}]);
//# sourceMappingURL=589.93ea181e.js.map