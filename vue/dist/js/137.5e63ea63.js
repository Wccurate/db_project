"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[137],{4137:function(e,r,t){t.r(r),t.d(r,{default:function(){return c}});var a=function(){var e=this,r=e._self._c;return r("div",{staticStyle:{padding:"10px"}},[r("div",{staticStyle:{"font-size":"40px","font-family":"Arial","margin-bottom":"5px"}},[e._v("Add New Book")]),r("div",{staticStyle:{width:"60%"}},[r("el-form",{ref:"ruleForm",attrs:{inline:!0,model:e.form,rules:e.rules}},[r("el-form-item",{staticStyle:{"margin-left":"2px"},attrs:{label:"ISBN: ",prop:"isbn"}},[r("el-input",{attrs:{placeholder:"Enter isbn"},model:{value:e.form.isbn,callback:function(r){e.$set(e.form,"isbn",r)},expression:"form.isbn"}})],1),r("el-form-item",{staticStyle:{"margin-left":"2px"},attrs:{label:"Description: ",prop:"description"}},[r("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",placeholder:"Enter description"},model:{value:e.form.description,callback:function(r){e.$set(e.form,"description",r)},expression:"form.description"}})],1),r("el-form-item",{staticStyle:{"margin-left":"2px"},attrs:{label:"Name: ",prop:"name"}},[r("el-input",{attrs:{placeholder:"Enter name"},model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}})],1),r("el-form-item",{staticStyle:{"margin-left":"2px"},attrs:{label:"Category: "}},[r("el-cascader",{attrs:{props:{value:"name",label:"name"},options:e.categories},model:{value:e.form.categories,callback:function(r){e.$set(e.form,"categories",r)},expression:"form.categories"}})],1),r("el-form-item",{staticStyle:{"margin-left":"2px"},attrs:{label:"Author: ",prop:"author"}},[r("el-input",{attrs:{placeholder:"Enter last name"},model:{value:e.form.author,callback:function(r){e.$set(e.form,"author",r)},expression:"form.author"}})],1),r("el-form-item",{staticStyle:{"margin-left":"2px"},attrs:{label:"Publisher: ",prop:"publisher"}},[r("el-input",{attrs:{placeholder:"Enter publisher name"},model:{value:e.form.publisher,callback:function(r){e.$set(e.form,"publisher",r)},expression:"form.publisher"}})],1),r("el-form-item",{staticStyle:{"margin-left":"2px"},attrs:{label:"Publish Date: ",prop:"publish_date"}},[r("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"Select a date"},model:{value:e.form.publish_date,callback:function(r){e.$set(e.form,"publish_date",r)},expression:"form.publish_date"}})],1),r("el-form-item",{staticStyle:{"margin-left":"2px"},attrs:{id:"credit",label:"Score: ",prop:"credit"}},[r("el-input",{attrs:{placeholder:"Enter score value"},model:{value:e.form.credit,callback:function(r){e.$set(e.form,"credit",r)},expression:"form.credit"}})],1),r("el-form-item",{staticStyle:{"margin-left":"2px"},attrs:{id:"cover",label:"Cover url: ",prop:"cover"}},[r("el-input",{attrs:{placeholder:"Enter cover url"},model:{value:e.form.cover,callback:function(r){e.$set(e.form,"cover",r)},expression:"form.cover"}})],1),r("el-form-item",{staticStyle:{"margin-left":"2px"},attrs:{id:"number",label:"Number: ",prop:"number"}},[r("el-input",{attrs:{placeholder:"Enter number"},model:{value:e.form.number,callback:function(r){e.$set(e.form,"number",r)},expression:"form.number"}})],1)],1),r("div",{staticStyle:{"text-align":"center"}},[r("el-button",{staticStyle:{"margin-left":"2px",height:"40px","min-width":"100px"},attrs:{type:"primary"},on:{click:e.save}},[e._v("Submit")])],1)],1)])},l=[],o=t(4471),i={name:"Add",data(){const e=(e,r,t)=>{r||t(new Error("This blank cannot be empty")),/^[0-9]*$/.test(r)||t(new Error("Please enter a numerical value")),parseInt(r)<0&&t(new Error("Please enter a number larger than 0")),t()},r=(e,r,t)=>{r||t(new Error("Please enter the book's ISBN")),/^[0-9]{10}$/.test(r)||t(new Error("Illegal ISBN")),t()};return{form:{},categories:[],rules:{name:[{required:!0,message:"Please enter the book's name",trigger:"blur"}],category:[{required:!0,message:"Please select the book's category",trigger:"blur"}],author:[{required:!0,message:"Please enter the book's author",trigger:"blur"}],publisher:[{required:!0,message:"Please enter the book's publisher",trigger:"blur"}],publish_date:[{required:!0,message:"Please select a date",trigger:"blur"}],isbn:[{required:!0,validator:r,trigger:"blur"}],number:[{required:!0,validator:e,trigger:"blur"}],credit:[{required:!0,validator:e,trigger:"blur"}]}}},created(){o.Z.get("category/tree").then((e=>{this.categories=e.data}))},methods:{save(){this.$refs["ruleForm"].validate((e=>{e&&o.Z.post("book/save",this.form).then((e=>{"200"===e.code?(this.$notify.success("Submitted"),this.$refs["ruleForm"].resetFields()):this.$notify.error(e.msg)}))}))}}},s=i,n=t(1001),m=(0,n.Z)(s,a,l,!1,null,"0297ad48",null),c=m.exports}}]);
//# sourceMappingURL=137.5e63ea63.js.map